CXXFLAGS = -std=c++17 $(CXXFLAGS)
OPENCV_CFLAGS=-I/nix/store/agv1803y52ln3lm7c44z5qbsi5arlyb6-libpng-apng-1.6.37-dev/include/libpng16 -I/nix/store/k3a8va25mnbb4kzbxd1r214cfk1yfsf1-zlib-1.2.11-dev/include -I/nix/store/6zzi3aqvxs5gv869qwqbyagfgd31mls6-opencv-4.5.2/include/opencv4
HEADER_SEARCH_PATHS=/nix/store/agv1803y52ln3lm7c44z5qbsi5arlyb6-libpng-apng-1.6.37-dev/include/libpng16 /nix/store/k3a8va25mnbb4kzbxd1r214cfk1yfsf1-zlib-1.2.11-dev/include /nix/store/iqslhrnd3rk33azc1mybdhjn2ga34vs8-jemalloc-5.2.1/include /nix/store/6zzi3aqvxs5gv869qwqbyagfgd31mls6-opencv-4.5.2/include/opencv4 /nix/store/hl2lrbyr9r3v06c4cywsfkl079vjr5c8-glew-2.2.0-dev/include /nix/store/iwfkas9dsakc7cm6fhlaigjy46j71476-mesa-21.1.7-dev/include /nix/store/0khrl4yrg1qyz93nk6kq1s79c4a0w8i0-libdevil-1.7.8-dev/include /nix/store/5hs7df0ywn5ynfflnspciw22v0m4ymjw-openexr-2.5.7-dev/include/OpenEXR /nix/store/5hs7df0ywn5ynfflnspciw22v0m4ymjw-openexr-2.5.7-dev/include /nix/store/5hs7df0ywn5ynfflnspciw22v0m4ymjw-openexr-2.5.7-dev/include/OpenEXR /nix/store/kqqwh1xz3ri47dvg8ikj7w2yl344amw3-python3-3.7.11/include/python3.7m/.. /nix/store/kqqwh1xz3ri47dvg8ikj7w2yl344amw3-python3-3.7.11/include/python3.7m/ $(SRCROOT)/../sift_anatomy_20141201/src /nix/store/zflx47lr00hipvkl5nncd2rnpzssnni6-backward-1.6/include /nix/store/i0rmp3app7yqd37ihgxlx9c3lwsj16kq-opencl-headers-2020.06.16/include /nix/store/690a3qx1w73vd86aawgih3fv5bn393lf-python3.7-pybind11-2.7.0/include $(SRCROOT)/../VectorNav/include 

OTHER_LDFLAGS = -lm -lpthread -L/nix/store/arjsc0ivkfl7b9v9vm6s5yk1b5w4dh1k-libpng-apng-1.6.37/lib -L/nix/store/6gwhff9bq8i8b3dqxgcgfw6dn78y70al-zlib-1.2.11/lib -L/nix/store/iqslhrnd3rk33azc1mybdhjn2ga34vs8-jemalloc-5.2.1/lib -L/nix/store/kqqwh1xz3ri47dvg8ikj7w2yl344amw3-python3-3.7.11/lib -L/nix/store/6zzi3aqvxs5gv869qwqbyagfgd31mls6-opencv-4.5.2/lib -L/nix/store/ajwxvc7p8n0gsi19pwvgm9xdlr4sznjf-glew-2.2.0/lib -L/nix/store/kvjzrlgd89hqi1lzqsjrxnlgabla7cyb-mesa-21.1.7/lib -L/nix/store/8xiifk00lb29rm86b7rwih3kvgyasydy-freeglut-3.2.1/lib -L/nix/store/w0hvj6zlh2fvy6km43h7hxv0j6g0nz8k-libdevil-1.7.8/lib -lopencv_gapi -lopencv_stitching -lopencv_alphamat -lopencv_aruco -lopencv_bgsegm -lopencv_bioinspired -lopencv_ccalib -lopencv_dnn_objdetect -lopencv_dnn_superres -lopencv_dpm -lopencv_face -lopencv_fuzzy -lopencv_hdf -lopencv_hfs -lopencv_img_hash -lopencv_intensity_transform -lopencv_line_descriptor -lopencv_mcc -lopencv_quality -lopencv_rapid -lopencv_reg -lopencv_rgbd -lopencv_saliency -lopencv_stereo -lopencv_structured_light -lopencv_phase_unwrapping -lopencv_superres -lopencv_optflow -lopencv_surface_matching -lopencv_tracking -lopencv_highgui -lopencv_datasets -lopencv_text -lopencv_plot -lopencv_videostab -lopencv_videoio -lopencv_wechat_qrcode -lopencv_xfeatures2d -lopencv_shape -lopencv_ml -lopencv_ximgproc -lopencv_video -lopencv_dnn -lopencv_xobjdetect -lopencv_objdetect -lopencv_calib3d -lopencv_imgcodecs -lopencv_features2d -lopencv_flann -lopencv_xphoto -lopencv_photo -lopencv_imgproc -lopencv_core -lpng16 -lz -ljemalloc -lGL -lGLEW -framework OpenGL -lglut -lIL -lpython3.7m -framework OpenCL -L/nix/store/g5w2hcjkax12ixx8wq1g6r6nqri15ggx-libunwind-7.1.0/lib // Works but segfaults: -Wl,-alias,_malloc,vadlTemp -Wl,-alias,___wrap_malloc,_malloc -Wl,-alias,vadlTemp,___real_malloc -Wl,-alias,_free,vadlTemp2 -Wl,-alias,___wrap_free,_free -Wl,-alias,vadlTemp2,___real_free //-Wl,-alias,_malloc,___wrap_malloc -Wl,-alias,_free,___wrap_free -Wl,-alias,___real_malloc,_malloc -Wl,-alias,___real_free,_free //-Wl,--wrap,malloc -Wl,--wrap,free //-ljpeg -lrt -lm

CLANG_CXX_LIBRARY=libc++
CLANG_CXX_LANGUAGE_STANDARD=c++17

//impl = SIFT_IMPL=SIFTGPU SIFTGPU_ // <-- Be sure to change both of these defines for an impl change
impl = SIFT_IMPL=SIFTAnatomy SIFTAnatomy_
impl = SIFT_IMPL=SIFTOpenCV SIFTOpenCV_
//tests = SIFTGPU_TEST
//etcConfig = USE_PTR_INC_MALLOC=1
GCC_PREPROCESSOR_DEFINITIONS = $(inherited) BACKWARD_HAS_UNWIND=1 USE_COMMAND_LINE_ARGS WINDOW_PREFER_GLUT CL_SIFTGPU_ENABLED $(impl) $(tests) $(etcConfig)
